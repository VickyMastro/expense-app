(function(t){function e(e){for(var s,n,i=e[0],c=e[1],l=e[2],d=0,h=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&h.push(o[n][0]),o[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,n=1;n<a.length;n++){var c=a[n];0!==o[c]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},o={app:0},r=[];function n(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-2d0d36c0":"391d7ecc"}[t]+".js"}function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a=o[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,s){a=o[t]=[e,s]}));e.push(a[2]=s);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=n(t);var l=new Error;r=function(e){c.onerror=c.onload=null,clearTimeout(d);var a=o[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",l.name="ChunkLoadError",l.type=s,l.request=r,a[1](l)}o[t]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(e)},i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"04b3":function(t,e,a){},"057e":function(t,e,a){},"08b1":function(t,e,a){"use strict";a("1f9a")},"0fb4":function(t,e,a){"use strict";a("fb91")},"124e":function(t,e,a){},"15fc":function(t,e,a){},"1f9a":function(t,e,a){},"2b15":function(t,e,a){"use strict";a("7572")},"2b65":function(t,e,a){"use strict";a("04b3")},"2d85":function(t,e,a){"use strict";a("a8cd")},"394c":function(t,e,a){},"452d":function(t,e,a){},4957:function(t,e,a){},"50ef":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Home")],1)},r=[],n=function(){var t=this,e=t._self._c;return e("b-container",{attrs:{fluid:""}},[t.getUser?e("div",{staticClass:"container-home"},[t.windowWidth<=767.98?e("b-row",[e("b-col",{staticStyle:{"background-color":"var(--primary)"},attrs:{md:"4"}},[e("Sidebar")],1),e("b-col",{staticClass:"mt-3",attrs:{md:"8"}},[e("Calendar"),e("router-view")],1),e("b-col",{staticClass:"footer-container"},[e("div",[e("CreateButton")],1)])],1):e("b-row",[e("b-col",{staticStyle:{"background-color":"var(--primary)"},attrs:{md:"3"}},[e("Sidebar")],1),e("b-col",{attrs:{md:"9"}},[e("CreateButton"),e("router-view")],1)],1)],1):e("b-row",{staticClass:"container-home"},[e("b-col",{staticStyle:{padding:"0px"}},[e("router-view")],1)],1)],1)},i=[],c=a("2f62"),l={data(){return{windowWidth:window.innerWidth}},mounted(){this.$nextTick(()=>{window.addEventListener("resize",this.onResize)})},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{onResize(){this.windowWidth=window.innerWidth}}},d=function(){var t=this,e=t._self._c;return e("b-container",[t.windowWidth<=767.98?e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{attrs:{cols:"3"}},[e("UserDropdown")],1),e("b-col",{attrs:{cols:"9"}},[e("span",{staticStyle:{"background-color":"inherit","font-size":"20px",color:"white"}},[t._v(" "+t._s(t.amountFormatter(t.getTotalBalance))+" ")])])],1):e("div",{staticClass:"sidebar-container"},[e("b-row",[e("b-col",{staticClass:"d-flex"},[e("UserDropdown")],1)],1),e("b-row",{staticStyle:{"margin-top":"150px"}},[e("b-col",[e("Calendar"),e("p",{staticStyle:{"font-size":"35px"}},[t._v("Saldo total")]),e("span",{staticStyle:{"background-color":"inherit","font-size":"30px",color:"white"}},[t._v(" "+t._s(t.amountFormatter(t.getTotalBalance))+" ")])],1)],1)],1)],1)},u=[],h=function(){var t=this,e=t._self._c;return e("div",[e("b-button",{staticClass:"month",attrs:{variant:"primary"},on:{click:function(e){t.show=!t.show}}},[t._v(t._s(t.date.month))]),e("transition",{attrs:{name:"fade"}},[e("month-picker",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"calendario",attrs:{lang:"es","default-month":(new Date).getMonth()+1},on:{change:t.showDate}})],1)],1)},m=[],p=a("7b25"),b={name:"Calendar",data(){return{show:!1,date:{from:null,to:null,month:null,year:null}}},components:{MonthPicker:p["a"]},methods:{showDate(t){let e=new Date(t.year,t.monthIndex,0);e=e.toISOString().split("T")[0];let a=new Date(t.year,t.monthIndex-1,1);a=a.toISOString().split("T")[0],this.$store.dispatch("filterDate",{firstDay:a,lastDay:e}),this.date=t}}},f=b,g=(a("b1e8"),a("2877")),v=Object(g["a"])(f,h,m,!1,null,"09d80a39",null),_=v.exports;const C=t=>{const e=/(\d)(?=(\d{3})+(?!\d))/g,a="$1.";let s=!1;t<0&&(s=!0,t=Math.abs(t));let o=t.toString().split(".");o[0]=o[0].replace(e,a),o[1]&&(o[1]=o[1].substring(0,2));let r=o[1]?o.join(","):o[0]+",00",n=s?"-$ ":"$ ";return n+r};var y=function(){var t=this,e=t._self._c;return e("b-dropdown",{attrs:{"no-caret":"",variant:"primary"},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("b-icon",{staticClass:"user-icon mt-2",attrs:{icon:"person",variant:"light"}})]},proxy:!0}])},[e("b-dropdown-item",{attrs:{"link-class":"bg-white",variant:"dark",to:{name:"Home"}}},[t._v("Inicio")]),e("b-dropdown-item",{attrs:{"link-class":"bg-white",variant:"dark",to:{name:"ShowTransfers"}}},[t._v("Transferencias")]),e("b-dropdown-item",{attrs:{"link-class":"bg-white",variant:"dark",to:{name:"Categories"}}},[t._v("Categorias")]),e("b-dropdown-item",{attrs:{"link-class":"bg-white",variant:"dark",to:{name:"DisabledCashboxes"}}},[t._v("Cajas deshabilitadas")]),e("b-dropdown-item",{attrs:{"link-class":"bg-white",variant:"danger"},on:{click:t.logout}},[t._v("Cerrar sesión")])],1)},w=[],x={name:"UserDropdown",methods:{logout(){this.$store.dispatch("doLogout"),this.$router.push({name:"Login"})}}},D=x,S=(a("de73"),Object(g["a"])(D,y,w,!1,null,"f832bddc",null)),$=S.exports,k={name:"Sidebar",methods:{amountFormatter:C},computed:{...Object(c["b"])(["getFullNameUser","getTotalBalance"])},mixins:[l],components:{Calendar:_,UserDropdown:$}},I=k,j=(a("a148"),Object(g["a"])(I,d,u,!1,null,"51d335c4",null)),T=j.exports,O=function(){var t=this,e=t._self._c;return e("fab",{attrs:{position:t.position,"bg-color":t.bgColor,actions:t.fabActions,"fixed-tooltip":"tooltip"},on:{income:t.createIncome,agress:t.createSpending,transfer:t.createTransfer}})},M=[],F=a("87ac"),V=a.n(F),N={name:"CreateSpending",data(){return{bgColor:"#7C59BC",position:"bottom-right",fabActions:[{name:"income",icon:"payments",tooltip:"Agregar ingreso"},{name:"agress",icon:"shopping_bag",tooltip:"Agregar gasto"},{name:"transfer",icon:"sync_alt",tooltip:"Transferencia"}]}},methods:{createIncome(){"/createIncome"!==this.$route.path&&this.$router.push({name:"CreateIncome"})},createSpending(){"/createSpending"!==this.$route.path&&this.$router.push({name:"CreateSpending"})},createTransfer(){"/createTransfer"!==this.$route.path&&this.$router.push({name:"CreateTransfer"})}},components:{fab:V.a}},E=N,B=Object(g["a"])(E,O,M,!1,null,null,null),U=B.exports,P={name:"Home",computed:{...Object(c["b"])(["getUser"])},mixins:[l],components:{Sidebar:T,CreateButton:U,Calendar:_}},z=P,A=(a("2b65"),Object(g["a"])(z,n,i,!1,null,"0c39e0f4",null)),q=A.exports,L={name:"App",async mounted(){await this.$store.dispatch("searchBanks"),await this.$store.dispatch("searchCashboxes")},async created(){await this.$store.dispatch("getCurrentUser")},components:{Home:q}},H=L,R=(a("7d8f"),Object(g["a"])(H,o,r,!1,null,null,null)),J=R.exports,W=a("8c4f"),Z=a("940b");const G=Object(Z["a"])("https://iedhiggzgrkhvvelhcks.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImllZGhpZ2d6Z3JraHZ2ZWxoY2tzIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NjQ0ODQzNzAsImV4cCI6MTk4MDA2MDM3MH0.Gm5yNVCsrE9G9GKlu4RLkp8k6S5kV4RpQtI_1bgUhqU");var Q={state:{incomes:[]},getters:{incomesOrderByDate(t){let e={};return t.incomes.forEach(t=>{e.hasOwnProperty(t.date)?e[t.date].push(t):e[t.date]=[t]}),e}},mutations:{setIncome(t,e){t.incomes=e}},actions:{async getIncomes(t){const e=await G.from("movements").select("*, accounts!inner(name, disabled), categories!inner(icon_color, icon)").eq("type","income").eq("user_id",t.rootState.userData.id).eq("accounts.disabled",!1).gte("date",t.rootState.filterDate.firstDay).lte("date",t.rootState.filterDate.lastDay).is("transfer_id",null).order("date",{ascending:!1}).order("id",{ascending:!1});t.commit("setIncome",e.data)},async getIncome(t,e){const a=await G.from("movements").select("*").eq("id",e);return a.data[0]},async createIncome(t,e){e.user_id=t.rootState.userData.id,e.type="income";const{error:a}=await G.from("movements").insert([e]);if(a)throw a;t.dispatch("searchCashboxes",null,{root:!0})},async editIncome(t,{incomeData:e,id:a}){const{error:s}=await G.from("movements").update([e]).match({id:a});if(s)throw s;t.dispatch("searchCashboxes",null,{root:!0})},async deleteIncome(t,e){const{error:a}=await G.from("movements").delete().match({id:e});if(a)throw a;t.dispatch("getIncomes"),t.dispatch("searchCashboxes",null,{root:!0})}}},X={state:{spendings:[]},getters:{spendingsOrderByDate(t){let e={};return t.spendings.forEach(t=>{e.hasOwnProperty(t.date)?e[t.date].push(t):e[t.date]=[t]}),e}},mutations:{setSpendings(t,e){t.spendings=e}},actions:{async getSpendings(t){const e=await G.from("movements").select("*, accounts!inner(name, disabled), categories!inner(icon_color, icon)").eq("type","outflow").eq("user_id",t.rootState.userData.id).eq("accounts.disabled",!1).gte("date",t.rootState.filterDate.firstDay).lte("date",t.rootState.filterDate.lastDay).is("transfer_id",null).order("date",{ascending:!1}).order("id",{ascending:!1});t.commit("setSpendings",e.data)},async getSpending(t,e){const a=await G.from("movements").select("*").eq("id",e);return a.data[0]},async createSpending(t,e){e.user_id=t.rootState.userData.id,e.type="outflow";const{error:a}=await G.from("movements").insert([e]);if(a)throw a;t.dispatch("searchCashboxes",null,{root:!0})},async editSpending(t,{spendingData:e,id:a}){const{error:s}=await G.from("movements").update([e]).match({id:a});if(s)throw s;t.dispatch("searchCashboxes",null,{root:!0})},async deleteSpending(t,e){const{error:a}=await G.from("movements").delete().match({id:e});if(a)throw a;t.dispatch("getSpendings"),t.dispatch("searchCashboxes",null,{root:!0})}}},Y=(a("13d5"),{state:{cashboxes:[],banks:[]},getters:{getCashboxes(t){return t.cashboxes.filter(t=>!1===t.disabled)},getCashboxesDisabled(t){return t.cashboxes.filter(t=>!0===t.disabled)},getBanks(t){return t.banks},getTotalBalance(t){return t.cashboxes.reduce((t,e)=>!1===e.disabled?t+e.balance:t,0)}},mutations:{setCashboxes(t,e){t.cashboxes=e},setBanks(t,e){t.banks=e}},actions:{async searchCashboxes(t){const{data:e,error:a}=await G.rpc("get_accounts",{userid:t.rootState.userData.id,date_value:t.rootState.filterDate.lastDay});if(a)throw a;t.commit("setCashboxes",e)},async searchBanks(t){const e=await G.from("banks").select("*");t.commit("setBanks",e.data)},async createCashbox(t,e){e.user_id=t.rootState.userData.id;const{error:a}=await G.from("accounts").insert([e]);if(a)throw a;t.dispatch("searchCashboxes")},async editCashbox(t,{cashboxData:e,cashboxId:a}){const{error:s}=await G.from("accounts").update([e]).match({id:a});if(s)throw s;t.dispatch("searchCashboxes")},async disabledCashbox(t,e){const{error:a}=await G.from("accounts").update([{disabled:!0}]).match({id:e});if(a)throw a;t.dispatch("searchCashboxes"),t.dispatch("getIncomes",null,{root:!0}),t.dispatch("getSpendings",null,{root:!0})},async enableCashbox(t,e){const{error:a}=await G.from("accounts").update([{disabled:!1}]).match({id:e});if(a)throw a;t.dispatch("searchCashboxes")}}}),K={state:{transfers:[]},getters:{getTransfers(t){return t.transfers}},mutations:{setTransfers(t,e){t.transfers=e}},actions:{async searchTransfers(t){const e=await G.from("movements").select("*, \n          accounts(name, icon_url), \n          categories(icon_color, icon), \n          movements(account_id, type, accounts(name, icon_url))").eq("type","outflow").eq("user_id",t.rootState.userData.id).gt("transfer_id",0).gte("date",t.rootState.filterDate.firstDay).lte("date",t.rootState.filterDate.lastDay).order("date",{ascending:!1});return t.commit("setTransfers",e.data),e.data},async getTransfer(t,e){const a=await G.from("movements").select("*, accounts(name), movements(account_id, id)").eq("id",e);return a.data[0]},async createTransfer(t,e){e.user_id=t.rootState.userData.id;const{error:a}=await G.rpc("make_transfer",e);if(a)throw a},async editTransfer(t,e){const{error:a}=await G.from("movements").update({date:e.date,cash:e.cash,title:e.title,account_id:e.from_account_id}).match({id:e.outflow_id});if(a)throw a;const{error2:s}=await G.from("movements").update({date:e.date,cash:e.cash,title:e.title,account_id:e.to_account_id}).match({id:e.income_id});if(s)throw s},async deleteTransfer(t,e){const{error:a}=await G.from("movements").delete().match({id:e});if(a)throw a;t.dispatch("searchTransfers"),t.dispatch("searchCashboxes",null,{root:!0})}}},tt={state:{categories:[]},getters:{getCategories(t){return t.categories},getDefaultCategories(t){return t.categories.filter(t=>null==t.user_id)},getUserCategories(t){return t.categories.filter(t=>null!==t.user_id)},getIncomesCategories(t){return t.categories.filter(t=>"income"===t.type)},getSpendingsCategories(t){return t.categories.filter(t=>"spending"===t.type)}},mutations:{setCategories(t,e){t.categories=e}},actions:{async searchCategories(t){const e=await G.from("categories").select("*").not("type","is",null).or(`user_id.eq.${t.rootState.userData.id}, user_id.is.null`).order("user_id",{ascending:!1});t.commit("setCategories",e.data)},async createCategory(t,e){e.user_id=t.rootState.userData.id;const{error:a}=await G.from("categories").insert([e]);if(a)throw a;t.dispatch("searchCategories",null,{root:!0})},async deleteCategory(t,e){const{error:a}=await G.from("categories").delete().match({id:e});if(a)throw a;t.dispatch("searchCategories",null,{root:!0})}}};s["default"].use(c["a"]);var et=new c["a"].Store({state:{userData:null,filterDate:{}},getters:{getUser(t){return t.userData},getFullNameUser(t){return t.userData.user_metadata.full_name}},mutations:{setUser(t,e){t.userData=e},setFilterDay(t,e){t.filterDate=e}},actions:{async getCurrentUser(t){const e=await G.auth.user();return t.commit("setUser",e),e},async doLogout(t){await G.auth.signOut(),t.commit("setUser",null)},filterDate(t,e){t.commit("setFilterDay",e),t.dispatch("getIncomes"),t.dispatch("getSpendings"),t.dispatch("searchCashboxes")}},modules:{incomesModule:Q,spendingsModule:X,cashboxesModule:Y,transfersModule:K,categoriesModule:tt}}),at=function(){var t=this,e=t._self._c;return e("b-container",{staticClass:"mt-4",attrs:{fluid:""}},[e("CreateCategory"),e("h5",{staticClass:"mt-4"},[t._v("Sus categorias")]),e("b-row",t._l(t.getUserCategories,(function(a){return e("b-col",{key:a.id,attrs:{cols:"12",sm:"6",lg:"4"}},[e("b-row",{staticClass:"container-category mt-3 mb-2"},[e("b-col",{attrs:{cols:"2"}},[e("span",{staticClass:"category-icon material-icons",style:{background:a.icon_color}},[t._v(" "+t._s(a.icon)+" ")])]),e("b-col",{staticClass:"d-flex align-items-center",attrs:{cols:"6"}},[e("b-col",{staticClass:"d-flex",attrs:{cols:"3"}},[t._v(" "+t._s(a.name)+" ")]),e("b-icon",{staticClass:"button-delete h4",attrs:{icon:"x-circle",id:"buttonDelete"},on:{click:function(e){return e.stopPropagation(),t.deleteCategory(a.id)}}})],1)],1)],1)})),1),e("h5",{staticClass:"mt-4"},[t._v("Categorias por defecto")]),e("b-row",t._l(t.getDefaultCategories,(function(a){return e("b-col",{key:a.id,attrs:{cols:"12",sm:"6",lg:"4"}},[e("b-row",{staticClass:"container-category mt-3 mb-2"},[e("b-col",{attrs:{cols:"2"}},[e("span",{staticClass:"category-icon material-icons",style:{background:a.icon_color}},[t._v(" "+t._s(a.icon)+" ")])]),e("b-col",{staticClass:"d-flex align-items-center",attrs:{cols:"6"}},[e("b-col",{staticClass:"d-flex",attrs:{cols:"3"}},[t._v(" "+t._s(a.name)+" ")])],1)],1)],1)})),1)],1)},st=[],ot=function(){var t=this,e=t._self._c;return e("b-container",{staticClass:"mt-4",attrs:{fluid:""}},[e("b-row",[e("b-col",{attrs:{cols:"3"}},[e("b-icon",{staticClass:"redirect-icon h3 mt-2",attrs:{icon:"arrow-left-short",variant:"dark"},on:{click:t.redirectToHome}})],1),e("b-col",{attrs:{cols:"9","align-self":"center"}},[e("span",{staticStyle:{"padding-right":"40%"}},[t._v("Categorias")])])],1),e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{staticClass:"mt-3",attrs:{cols:"6",sm:"3",lg:"2"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.categoryData.icon,expression:"categoryData.icon"}],staticClass:"form-control material-icons",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.categoryData,"icon",e.target.multiple?a:a[0])}}},t._l(t.options,(function(a){return e("option",{key:a.value,staticClass:"material-icons",domProps:{value:a.icon}},[t._v(" "+t._s(a.icon)+" ")])})),0)]),e("b-col",{staticClass:"mt-3",attrs:{cols:"6",sm:"3",lg:"2"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryData.icon_color,expression:"categoryData.icon_color"}],staticClass:"form-control",attrs:{type:"color",list:"listacoloresperfil"},domProps:{value:t.categoryData.icon_color},on:{input:function(e){e.target.composing||t.$set(t.categoryData,"icon_color",e.target.value)}}}),e("datalist",{attrs:{id:"listacoloresperfil"}},t._l(t.colors,(function(t){return e("option",{key:t,domProps:{value:t}})})),0)]),e("b-col",{staticClass:"mt-3",attrs:{cols:"12",sm:"3",lg:"2"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.categoryData.type,expression:"categoryData.type"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.categoryData,"type",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"income"}},[t._v("Ingreso")]),e("option",{attrs:{value:"spending"}},[t._v("Gasto")])])]),e("b-col",{staticClass:"mt-3",attrs:{cols:"12",sm:"6",lg:"4"}},[e("b-form-input",{attrs:{placeholder:"Nombre de la categoria"},model:{value:t.categoryData.name,callback:function(e){t.$set(t.categoryData,"name",e)},expression:"categoryData.name"}})],1),e("b-col",{staticClass:"mt-3",attrs:{cols:"12",sm:"6",lg:"2"}},[e("b-button",{attrs:{variant:"outline-primary",size:"md"},on:{click:t.createCategory}},[t._v("Crear ")])],1)],1)],1)},rt=[],nt={name:"CreateCategory",async mounted(){await this.$store.dispatch("searchCategories")},data(){return{categoryData:{icon:"more_horiz",name:"",icon_color:"#000000",type:"spending"},colors:["#ff4444","#ff8a00","#8ad5f0","#004e09","#cc0000","#2cb1e1","#24847a","#2a23ff","#9933cc","#ffd980","#bcbcbc","#000000","#ef36f2"]}},methods:{redirectToHome(){this.$router.push("/")},async createCategory(){if(this.categoryData.name)try{this.categoryData.name=this.categoryData.name.charAt(0).toUpperCase()+this.categoryData.name.slice(1),await this.$store.dispatch("createCategory",this.categoryData)}catch(t){this.$toast.error("No fue posible crear el ingreso",{position:"top-right",duration:4e3})}else this.$toast.warning("Completa todos los campos para crear la categoria",{position:"top-right",duration:4e3})}},computed:{...Object(c["b"])(["getCategories"]),options(){let t=[];return this.getCategories.forEach(e=>{e.user_id||t.push({value:e.id,icon:e.icon})}),t}}},it=nt,ct=Object(g["a"])(it,ot,rt,!1,null,"5e366f0b",null),lt=ct.exports,dt={name:"Categories",methods:{async deleteCategory(t){await this.$store.dispatch("deleteCategory",t)}},computed:{...Object(c["b"])(["getDefaultCategories","getUserCategories"])},components:{CreateCategory:lt}},ut=dt,ht=(a("2b15"),Object(g["a"])(ut,at,st,!1,null,"66d94633",null)),mt=ht.exports,pt=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},bt=[],ft={},gt=Object(g["a"])(ft,pt,bt,!1,null,null,null),vt=gt.exports,_t=function(){var t=this,e=t._self._c;return e("FormTransfer",{attrs:{transferData:t.transferData,titleMovement:t.titleMovement},on:{setValue:t.setValue}},[e("b-row",{staticClass:"mt-5"},[e("b-col",{staticClass:"pb-2"},[e("b-button",{attrs:{variant:"outline-primary",size:"md"},on:{click:t.addTransfer}},[t._v(" Transferir ")])],1)],1)],1)},Ct=[],yt=function(){var t=this,e=t._self._c;return e("b-container",{staticClass:"mt-4",attrs:{fluid:""}},[e("b-row",[e("b-col",{attrs:{cols:"3"}},[e("b-icon",{staticClass:"redirect-icon h3 mt-2",attrs:{icon:"arrow-left-short",variant:"dark"},on:{click:t.redirect}})],1),e("b-col",{attrs:{cols:"9","align-self":"center"}},[e("span",{staticStyle:{"padding-right":"40%"}},[t._v(t._s(t.titleMovement))])])],1),e("b-row",{staticClass:"mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{cols:"3",md:"3"}},[e("label",[t._v("Fecha:")])]),e("b-col",{attrs:{cols:"4",md:"3"}},[e("b-form-input",{attrs:{type:"date",value:t.transferData.date},on:{input:e=>t.$emit("setValue","date",e)}})],1),e("b-col",{attrs:{cols:"2",md:"3"}},[e("label",[t._v("Monto:")])]),e("b-col",{attrs:{cols:"3",md:"3"}},[e("b-form-input",{attrs:{type:"number",value:t.transferData.cash},on:{input:e=>t.$emit("setValue","cash",e)}})],1)],1),e("b-row",{staticClass:"mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Titulo:")])]),e("b-col",{attrs:{sm:"5"}},[e("b-form-input",{attrs:{value:t.transferData.title},on:{input:e=>t.$emit("setValue","title",e)}})],1)],1),e("b-row",{staticClass:"mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("De la cuenta:")])]),e("b-col",{attrs:{sm:"4"}},[e("b-form-select",{attrs:{options:t.options,value:t.transferData.from_account_id},on:{input:e=>t.$emit("setValue","from_account_id",e)}})],1)],1),e("b-row",{staticClass:"mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("A la cuenta:")])]),e("b-col",{attrs:{sm:"4"}},[e("b-form-select",{attrs:{options:t.options,value:t.transferData.to_account_id},on:{input:e=>t.$emit("setValue","to_account_id",e)}})],1)],1),t._t("default")],2)},wt=[],xt={name:"FormTransfer",props:["transferData","titleMovement"],methods:{redirect(){this.$router.push({name:"ShowTransfers"})}},computed:{...Object(c["b"])(["getCashboxes"]),options(){let t=[{value:null,text:"Seleccionar cuenta"}];return this.getCashboxes.forEach(e=>{t.push({value:e.id,text:e.name})}),t}}},Dt=xt,St=(a("7857"),Object(g["a"])(Dt,yt,wt,!1,null,"58830155",null)),$t=St.exports,kt={name:"CreateTransfer",mounted(){this.transferData.date=(new Date).toISOString().split("T")[0]},data(){return{titleMovement:"Realizar transferencia",transferData:{title:"",from_account_id:null,to_account_id:null,cash:"",date:""}}},methods:{setValue(t,e){this.transferData[t]=e},async addTransfer(){if(this.transferData.from_account_id&&this.transferData.to_account_id&&this.transferData.cash)try{this.transferData.title=""===this.transferData.title?"Transferencia":this.transferData.title,await this.$store.dispatch("createTransfer",this.transferData),this.$router.push("showTransfers"),this.test=this.transferData}catch(t){this.$toast.error("No fue posible crear el ingreso",{position:"top-right",duration:4e3})}else this.$toast.warning("Completa todos los campos para realizar una transferencia",{position:"top-right",duration:4e3})}},components:{FormTransfer:$t}},It=kt,jt=Object(g["a"])(It,_t,Ct,!1,null,null,null),Tt=jt.exports,Ot=function(){var t=this,e=t._self._c;return e("FormTransfer",{attrs:{transferData:t.transferData,titleMovement:t.titleMovement},on:{setValue:t.setValue}},[e("b-row",{staticClass:"mt-5"},[e("b-col",{staticClass:"pb-2"},[e("b-button",{attrs:{variant:"outline-primary",size:"md"},on:{click:t.editTransfer}},[t._v(" Editar ")])],1)],1)],1)},Mt=[],Ft={name:"EditTransfer",async mounted(){try{const t=await this.$store.dispatch("getTransfer",this.$route.params.id);this.setData(t)}catch(t){console.log(t),this.$router.push("transfers/showTransfers"),this.$toast.error("No fue posible abrir la transferencia",{position:"top-right",duration:4e3})}},data(){return{titleMovement:"Editar transferencia",transferData:{title:"",from_account_id:null,to_account_id:null,cash:"",date:"",outflow_id:null,income_id:null}}},methods:{setValue(t,e){this.transferData[t]=e},setData(t){for(let e in this.transferData)this.transferData[e]=t[e];this.transferData.from_account_id=t.account_id,this.transferData.to_account_id=t.movements[0].account_id,this.transferData.outflow_id=t.id,this.transferData.income_id=t.movements[0].id},async editTransfer(){if(this.transferData.from_account_id&&this.transferData.to_account_id&&this.transferData.cash)try{this.transferData.title=""===this.transferData.title?"Transferencia":this.transferData.title,await this.$store.dispatch("editTransfer",this.transferData),this.$router.push({name:"ShowTransfers"}),this.test=this.transferData}catch(t){this.$toast.error("No fue posible editar la transferencia",{position:"top-right",duration:4e3})}else this.$toast.warning("Completa todos los campos para editar una transferencia",{position:"top-right",duration:4e3})}},components:{FormTransfer:$t}},Vt=Ft,Nt=Object(g["a"])(Vt,Ot,Mt,!1,null,null,null),Et=Nt.exports,Bt=function(){var t=this,e=t._self._c;return e("div",[e("Cashboxes",{attrs:{showAddCashbox:!1},on:{getCashboxId:t.getCashboxId}}),e("b-row",[e("b-col",{staticClass:"mt-2"},[e("span",{staticClass:"title"},[t._v("Transferencias")])])],1),0===t.transfers.length?e("b-row",[e("b-col",{staticClass:"mt-2"},[e("span",{staticClass:"title-2"},[t._v("Aún no se realizaron transferencias")])])],1):t._l(t.transfers,(function(a,s){return e("b-row",{key:s,staticClass:"mt-4"},[e("div",{staticClass:"container-movements",on:{click:function(e){return t.editTransfer(a.id)}}},[e("b-row",[e("b-col",{attrs:{cols:"2"}},[e("span",{staticClass:"category-icon material-icons",staticStyle:{"margin-top":"15px"},style:{background:a.categories.icon_color}},[t._v(" "+t._s(a.categories.icon)+" ")])]),e("b-col",{attrs:{cols:"10"}},[e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{attrs:{cols:"6"}},[t._v(" "+t._s(a.title)+" ")]),e("b-col",{attrs:{cols:"6"}},[t._v(" "+t._s(t.amountFormatter(a.cash))+" ")]),e("b-col",{staticClass:"d-flex justify-content-end",attrs:{cols:"4"}},[e("b-img",t._b({staticClass:"mr-1",attrs:{src:a.accounts.icon_url,rounded:"circle",alt:"Icono de la cuenta de la que transfirio dinero"}},"b-img",t.iconProps,!1)),t._v(" "+t._s(a.accounts.name)+" ")],1),e("b-col",{attrs:{cols:"2"}},[e("b-icon",{staticClass:"h3 mt-2",attrs:{icon:"arrow-right",variant:"dark"}})],1),e("b-col",{staticClass:"d-flex",attrs:{cols:"5"}},[e("b-img",t._b({staticClass:"mr-1",attrs:{src:a.movements[0].accounts.icon_url,rounded:"circle",alt:"Icono de la cuenta a la que transfirio dinero"}},"b-img",t.iconProps,!1)),t._v(" "+t._s(a.movements[0].accounts.name)+" ")],1),e("b-icon",{staticClass:"button-delete h4",attrs:{icon:"x-circle",id:"buttonDelete"},on:{click:function(e){return e.stopPropagation(),t.deleteTransfer(a.id,s)}}})],1)],1)],1)],1)])}))],2)},Ut=[],Pt=function(){var t=this,e=t._self._c;return e("MyCarousel",{attrs:{showAddCashbox:t.showAddCashbox}},t._l(t.getCashboxes,(function(a,s){return e("slide",{key:s,staticClass:"p-3"},[e("b-card",{staticClass:"cashboxes-cards",class:{cashboxSelected:a.id===t.selectCashboxId},attrs:{"no-body":""},on:{click:function(e){return t.openCashbox(a.name,a.id)}}},[e("b-card-body",{staticClass:"p-3"},[e("b-img",t._b({attrs:{src:a.icon_url,rounded:"circle",alt:"Circle image"}},"b-img",t.mainProps,!1)),e("b-card-text",[t._v(" "+t._s(a.name)+" ")]),e("b-card-text",{class:{positiveColor:a.balance>=0,negativeColor:a.balance<=0}},[t._v(" "+t._s(t.amountFormatter(a.balance))+" ")])],1)],1),e("EditCashboxModal",{attrs:{cashboxId:a.name+a.id,cashboxInfo:a}})],1)})),1)},zt=[],At=function(){var t=this,e=t._self._c;return e("b-container",[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("carousel",{attrs:{perPage:t.quantityPerPage,navigationEnabled:!0,paginationEnabled:!1}},[t._t("default"),!0===t.showAddCashbox?e("slide",{staticClass:"p-2 d-flex justify-content-center align-items-center"},[e("b-card",{staticClass:"new-cashbox-card",on:{click:t.addCashbox}},[e("b-img",t._b({attrs:{src:"https://iedhiggzgrkhvvelhcks.supabase.co/storage/v1/object/public/images/add.png?t=2022-10-11T18%3A00%3A23.533Z",rounded:"circle",alt:"Circle image"}},"b-img",t.mainProps,!1)),e("b-card-text",{staticStyle:{"overflow-wrap":"normal"}},[t._v("Agregar caja ")])],1),e("NewCashboxModal")],1):t._e()],2)],1)],1)],1)},qt=[],Lt=a("0a63"),Ht=function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{id:"NewCashboxModal",title:"Crear una nueva caja","header-bg-variant":"primary","header-text-variant":"light","hide-footer":""}},[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"4"}},[e("label",[t._v("Saldo en caja: ")])]),e("b-col",{attrs:{sm:"8"}},[e("b-form-input",{attrs:{type:"number",placeholder:"Saldo"},model:{value:t.cashboxData.initial_balance,callback:function(e){t.$set(t.cashboxData,"initial_balance",e)},expression:"cashboxData.initial_balance"}})],1)],1),e("b-row",{staticClass:"my-1 mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"4"}},[e("label",[t._v("Banco: ")])]),e("b-col",{attrs:{sm:"8"}},[e("b-form-select",{attrs:{options:t.setOptionsBanks},model:{value:t.cashboxData.icon_url,callback:function(e){t.$set(t.cashboxData,"icon_url",e)},expression:"cashboxData.icon_url"}})],1)],1),e("b-row",{staticClass:"my-1 mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"4"}},[e("label",[t._v("Nombre de caja: ")])]),e("b-col",{attrs:{sm:"8"}},[e("b-form-input",{attrs:{placeholder:"Nombre"},model:{value:t.cashboxData.name,callback:function(e){t.$set(t.cashboxData,"name",e)},expression:"cashboxData.name"}})],1)],1),e("b-row",{staticClass:"mt-4"},[e("b-col",{staticClass:"d-flex justify-content-end"},[e("button",{staticClass:"createButton",on:{click:t.createCashbox}},[t._v(" Crear caja ")])])],1)],1)],1)},Rt=[],Jt={name:"NewCashboxModal",data(){return{cashboxData:{icon_url:null,name:"",initial_balance:""}}},methods:{async createCashbox(){if(this.cashboxData.initial_balance&&this.cashboxData.icon_url&&this.cashboxData.name)try{await this.$store.dispatch("createCashbox",this.cashboxData),this.$bvModal.hide("NewCashboxModal")}catch(t){this.$toast.error("No fue posible crear la caja",{position:"top-right",duration:4e3})}else this.$toast.warning("Completa todos los campos para crear la caja",{position:"top-right",duration:4e3})}},computed:{...Object(c["b"])(["getBanks"]),setOptionsBanks(){let t=[{value:null,text:"Banco"}];return this.getBanks.forEach(e=>{t.push({value:e.icon_url,text:e.name})}),t}}},Wt=Jt,Zt=(a("8e1f"),Object(g["a"])(Wt,Ht,Rt,!1,null,"1b38edc1",null)),Gt=Zt.exports,Qt={name:"MyCarousel",props:["showAddCashbox"],data(){return{mainProps:{width:50,height:50}}},methods:{addCashbox(){this.$root.$emit("bv::show::modal","NewCashboxModal")}},computed:{quantityPerPage(){return this.windowWidth<=767.98?this.windowWidth<=576?1:2:3}},mixins:[l],components:{Carousel:Lt["Carousel"],Slide:Lt["Slide"],NewCashboxModal:Gt}},Xt=Qt,Yt=(a("5ebf"),Object(g["a"])(Xt,At,qt,!1,null,"9e4ff8b8",null)),Kt=Yt.exports,te=function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{id:t.cashboxId,title:"Reajuste","header-bg-variant":"primary","header-text-variant":"light","hide-footer":""}},[e("b-container",{attrs:{fluid:""}},[e("b-row",{staticClass:"my-1",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"4"}},[e("label",[t._v("Saldo: ")])]),e("b-col",{attrs:{sm:"8"}},[e("b-form-input",{attrs:{type:"number",placeholder:"Saldo"},model:{value:t.balance,callback:function(e){t.balance=t._n(e)},expression:"balance"}})],1)],1),t.cashboxInfo.is_wallet?t._e():e("b-row",{staticClass:"my-1 mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"4"}},[e("label",[t._v("Banco: ")])]),e("b-col",{attrs:{sm:"8"}},[e("b-form-select",{attrs:{options:t.setOptionsBanks},model:{value:t.cashboxData.icon_url,callback:function(e){t.$set(t.cashboxData,"icon_url",e)},expression:"cashboxData.icon_url"}})],1)],1),t.cashboxInfo.is_wallet?t._e():e("b-row",{staticClass:"my-1 mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"4"}},[e("label",[t._v("Nombre de caja: ")])]),e("b-col",{attrs:{sm:"8"}},[e("b-form-input",{attrs:{placeholder:"Nombre"},model:{value:t.cashboxData.name,callback:function(e){t.$set(t.cashboxData,"name",e)},expression:"cashboxData.name"}})],1)],1),e("b-row",{staticClass:"mt-4"},[e("b-col",{staticClass:"d-flex justify-content-start align-items-center"},[e("b-button",{class:{disabledWallet:t.cashboxInfo.is_wallet},attrs:{variant:"outline-primary",size:"sm",disabled:t.cashboxInfo.is_wallet},on:{click:function(e){return t.disabledCashbox()}}},[t._v(" Deshabilitar ")])],1),e("b-col",{staticClass:"d-flex justify-content-end"},[e("b-button",{staticClass:"readjustButton",on:{click:t.readjustCashbox}},[t._v(" Reajustar caja ")])],1)],1)],1)],1)},ee=[],ae={props:["cashboxId","cashboxInfo"],name:"EditCashboxModal",mounted(){this.$root.$on("bv::modal::show",()=>{try{this.balance=this.lastBalance=this.cashboxInfo.balance;for(let t in this.cashboxData)this.cashboxData[t]=this.cashboxInfo[t]}catch(t){this.$router.push("/"),this.$toast.error("No fue posible abrir la caja",{position:"top-right",duration:4e3})}})},data(){return{balance:0,lastBalance:0,cashboxData:{icon_url:null,name:""},newMovement:{date:(new Date).toISOString().split("T")[0],title:"Reajuste",account_id:null,cash:0}}},methods:{async readjustCashbox(){if(""!==this.balance&&this.cashboxData.icon_url&&this.cashboxData.name)try{let t=this.lastBalance-this.balance;t=Math.abs(t),await this.$store.dispatch("editCashbox",{cashboxData:this.cashboxData,cashboxId:this.cashboxInfo.id}),this.lastBalance!==this.balance&&(this.lastBalance<this.balance?this.createIncomeForCashbox(t):this.createSpendingForCashbox(t)),await this.$store.dispatch("getIncomes"),await this.$store.dispatch("getSpendings"),this.$bvModal.hide(this.cashboxId)}catch(t){this.$toast.error("No fue posible reajustar la caja",{position:"top-right",duration:4e3})}else this.$toast.warning("Completa todos los campos para reajustar la caja",{position:"top-right",duration:4e3})},createIncomeForCashbox(t){this.newMovement.cash=t,this.newMovement.account_id=this.cashboxInfo.id,this.$store.dispatch("createIncome",this.newMovement)},createSpendingForCashbox(t){this.newMovement.cash=t,this.newMovement.account_id=this.cashboxInfo.id,this.$store.dispatch("createSpending",this.newMovement)},async disabledCashbox(){try{await this.$store.dispatch("disabledCashbox",this.cashboxInfo.id),this.$bvModal.hide(this.cashboxId),this.$toast.success("La caja fue deshabilitada",{position:"top-right",duration:4e3})}catch(t){this.$toast.error("No fue posible deshabilitar la caja",{position:"top-right",duration:4e3})}}},computed:{...Object(c["b"])(["getBanks","getCashboxes"]),setOptionsBanks(){let t=[{value:null,text:"Banco"}];return this.getBanks.forEach(e=>{t.push({value:e.icon_url,text:e.name})}),t}}},se=ae,oe=(a("df5e"),Object(g["a"])(se,te,ee,!1,null,"09dbde5f",null)),re=oe.exports,ne={name:"Cashboxes",props:["showAddCashbox"],data(){return{selectCashboxId:null,mainProps:{width:75,height:75,class:"m1"}}},methods:{amountFormatter:C,openCashbox(t,e){this.showAddCashbox?this.$root.$emit("bv::show::modal",t+e):(this.selectCashboxId===e?this.selectCashboxId=null:this.selectCashboxId=e,this.$emit("getCashboxId",e))}},computed:{...Object(c["b"])(["getCashboxes"])},components:{MyCarousel:Kt,Slide:Lt["Slide"],EditCashboxModal:re}},ie=ne,ce=(a("e008"),Object(g["a"])(ie,Pt,zt,!1,null,"0525a656",null)),le=ce.exports,de={name:"ShowTransfers",async created(){this.transfers=await this.$store.dispatch("searchTransfers"),await this.$store.dispatch("searchCashboxes")},data(){return{transfers:[],selectCashboxId:null,mainProps:{width:75,height:75,class:"m1"},iconProps:{width:25,height:25,class:"m1"}}},methods:{amountFormatter:C,getCashboxId(t){this.selectCashboxId!==t?this.transfers=this.getTransfers.filter(e=>e.account_id===t||e.movements[0].account_id===t?e:null):this.transfers=this.getTransfers,this.selectCashboxId=t},editTransfer(t){this.$router.push({name:"EditTransfer",params:{id:t}})},async deleteTransfer(t,e){try{await this.$store.dispatch("deleteTransfer",t),await this.$store.dispatch("searchCashboxes"),this.transfers=this.transfers.splice(e,1)}catch(a){this.$toast.error("No fue posible eliminar la transferencia",{position:"top-right",duration:4e3})}}},watch:{"$store.state.filterDate":async function(){await this.$store.dispatch("searchTransfers"),this.transfers=this.getTransfers}},computed:{...Object(c["b"])(["getTransfers"])},components:{Cashboxes:le}},ue=de,he=(a("73c5"),Object(g["a"])(ue,Bt,Ut,!1,null,"482ba946",null)),me=he.exports,pe=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},be=[],fe={},ge=Object(g["a"])(fe,pe,be,!1,null,null,null),ve=ge.exports,_e=function(){var t=this,e=t._self._c;return e("FormIncome",{attrs:{incomeData:t.incomeData,titleMovement:t.titleMovement},on:{setValue:t.setValue}},[e("b-row",{staticClass:"mt-5"},[e("b-col",{staticClass:"pb-2"},[e("b-button",{attrs:{variant:"outline-primary",size:"md"},on:{click:t.addIncome}},[t._v(" Agregar ingreso ")])],1)],1)],1)},Ce=[],ye=function(){var t=this,e=t._self._c;return e("b-container",{staticClass:"mt-4",attrs:{fluid:""}},[e("b-row",[e("b-col",{attrs:{cols:"3"}},[e("b-icon",{staticClass:"redirect-icon h3 mt-2",attrs:{icon:"arrow-left-short",variant:"dark"},on:{click:t.redirectToHome}})],1),e("b-col",{attrs:{cols:"9","align-self":"center"}},[e("span",{staticStyle:{"padding-right":"40%"}},[t._v(t._s(t.titleMovement))])])],1),e("b-row",{staticClass:"mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Fecha:")])]),e("b-col",{attrs:{sm:"5"}},[e("b-form-input",{attrs:{type:"date",value:t.incomeData.date},on:{input:e=>t.$emit("setValue","date",e)}})],1)],1),e("b-row",{staticClass:"mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Titulo:")])]),e("b-col",{attrs:{sm:"9"}},[e("b-form-input",{attrs:{value:t.incomeData.title},on:{input:e=>t.$emit("setValue","title",e)}})],1)],1),e("b-row",{staticClass:"mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Categoria:")])]),e("b-col",{staticClass:"d-flex",attrs:{sm:"5"}},[e("b-dropdown",{staticClass:"select-category",attrs:{"no-caret":"",dropright:"",variant:"link","toggle-class":"text-decoration-none"},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("div",{staticClass:"d-flex"},[e("span",{staticClass:"material-icons"},[t._v(t._s(t.categorySelected.icon))]),e("span",{staticStyle:{color:"#495057"}},[t._v(t._s(t.categorySelected.name))])])]},proxy:!0}])},t._l(t.categories,(function(a){return e("b-dropdown-item-button",{key:a.value,attrs:{value:a.value},on:{click:function(e){return t.setCategory(a.icon,a.value,a.name)}}},[e("div",{staticClass:"d-flex mt-1"},[e("span",{staticClass:"material-icons"},[t._v(t._s(a.icon))]),e("span",[t._v(" "+t._s(a.name))])])])})),1)],1)],1),e("b-row",{staticClass:"mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Cuenta:")])]),e("b-col",{attrs:{sm:"3"}},[e("b-form-select",{attrs:{options:t.options,value:t.incomeData.account_id},on:{input:e=>t.$emit("setValue","account_id",e)}})],1),e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Monto:")])]),e("b-col",{attrs:{sm:"3"}},[e("b-form-input",{attrs:{type:"number",value:t.incomeData.cash},on:{input:e=>t.$emit("setValue","cash",e)}})],1)],1),t._t("default")],2)},we=[],xe={name:"FormIncome",props:["incomeData","titleMovement"],async mounted(){await this.$store.dispatch("searchCategories")},data(){return{categorySelected:{id:25,name:"Inversiones",icon:"trending_up"}}},methods:{redirectToHome(){this.$router.push("/")},setCategory(t,e,a){this.categorySelected={id:e,name:a,icon:t},this.$emit("setValue","category_id",e)}},watch:{"incomeData.category_id":function(t){t&&(this.categorySelected=this.categories.find(e=>e.value==t))}},computed:{...Object(c["b"])(["getCashboxes","getIncomesCategories"]),options(){let t=[{value:null,text:"Seleccionar cuenta"}];return this.getCashboxes.forEach(e=>{t.push({value:e.id,text:e.name})}),t},categories(){let t=[];return this.getIncomesCategories.forEach(e=>{t.push({value:e.id,icon:e.icon,name:e.name})}),t}}},De=xe,Se=(a("7279"),Object(g["a"])(De,ye,we,!1,null,"0ad5e4ee",null)),$e=Se.exports,ke={name:"CreateIncome",mounted(){this.incomeData.date=(new Date).toISOString().split("T")[0]},data(){return{titleMovement:"Crear ingreso",incomeData:{title:"",account_id:null,cash:"",date:"",category_id:null}}},methods:{setValue(t,e){this.incomeData[t]=e},async addIncome(){if(this.incomeData.title&&this.incomeData.account_id&&this.incomeData.cash)try{await this.$store.dispatch("createIncome",this.incomeData),this.$router.push("/")}catch(t){this.$toast.error("No fue posible crear el ingreso",{position:"top-right",duration:4e3})}else this.$toast.warning("Completa todos los campos para crear el ingreso",{position:"top-right",duration:4e3})}},components:{FormIncome:$e}},Ie=ke,je=Object(g["a"])(Ie,_e,Ce,!1,null,null,null),Te=je.exports,Oe=function(){var t=this,e=t._self._c;return e("FormIncome",{attrs:{incomeData:t.incomeData,titleMovement:t.titleMovement},on:{setValue:t.setValue}},[e("b-row",{staticClass:"mt-5"},[e("b-col",{staticClass:"pb-2"},[e("b-button",{attrs:{variant:"outline-primary",size:"md"},on:{click:t.editIncome}},[t._v(" Editar ingreso ")])],1)],1)],1)},Me=[],Fe={name:"EditIncome",async mounted(){try{const t=await this.$store.dispatch("getIncome",this.$route.params.id);for(let e in this.incomeData)this.incomeData[e]=t[e]}catch(t){this.$router.push("/"),this.$toast.error("No fue posible abrir el ingreso",{position:"top-right",duration:4e3})}},data(){return{titleMovement:"Editar ingreso",incomeData:{title:"",account_id:null,cash:"",date:"",category_id:null}}},methods:{setValue(t,e){this.incomeData[t]=e},async editIncome(){if(this.incomeData.title&&this.incomeData.account_id&&this.incomeData.cash)try{await this.$store.dispatch("editIncome",{incomeData:this.incomeData,id:this.$route.params.id}),this.$router.push("/")}catch(t){this.$toast.error("No fue posible editar el ingreso",{position:"top-right",duration:4e3})}else this.$toast.warning("Completa todos los campos para editar el ingreso",{position:"top-right",duration:4e3})}},components:{FormIncome:$e}},Ve=Fe,Ne=Object(g["a"])(Ve,Oe,Me,!1,null,null,null),Ee=Ne.exports,Be=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},Ue=[],Pe={},ze=Object(g["a"])(Pe,Be,Ue,!1,null,null,null),Ae=ze.exports,qe=function(){var t=this,e=t._self._c;return e("FormSpending",{attrs:{spendingData:t.spendingData,titleMovement:t.titleMovement},on:{setValue:t.setValue}},[e("b-row",{staticClass:"mt-5"},[e("b-col",{staticClass:"pb-2"},[e("b-button",{attrs:{variant:"outline-primary",size:"md"},on:{click:t.addSpending}},[t._v(" Agregar gasto ")])],1)],1)],1)},Le=[],He=function(){var t=this,e=t._self._c;return e("b-container",{staticClass:"mt-4",attrs:{fluid:""}},[e("b-row",[e("b-col",{attrs:{cols:"3"}},[e("b-icon",{staticClass:"redirect-icon h3 mt-2",attrs:{icon:"arrow-left-short",variant:"dark"},on:{click:t.redirectToHome}})],1),e("b-col",{attrs:{cols:"9","align-self":"center"}},[e("span",{staticStyle:{"padding-right":"40%"}},[t._v(t._s(t.titleMovement))])])],1),e("b-row",{staticClass:"mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Fecha:")])]),e("b-col",{attrs:{sm:"5"}},[e("b-form-input",{attrs:{type:"date",value:t.spendingData.date},on:{input:e=>t.$emit("setValue","date",e)}})],1)],1),e("b-row",{staticClass:"mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Titulo:")])]),e("b-col",{attrs:{sm:"9"}},[e("b-form-input",{attrs:{value:t.spendingData.title},on:{input:e=>t.$emit("setValue","title",e)}})],1)],1),e("b-row",{staticClass:"mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Categoria:")])]),e("b-col",{staticClass:"d-flex",attrs:{sm:"5"}},[e("b-dropdown",{staticClass:"select-category",attrs:{"no-caret":"",dropright:"",variant:"link","toggle-class":"text-decoration-none"},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("div",{staticClass:"d-flex"},[e("span",{staticClass:"material-icons"},[t._v(t._s(t.categorySelected.icon))]),e("span",{staticStyle:{color:"#495057"}},[t._v(t._s(t.categorySelected.name))])])]},proxy:!0}])},t._l(t.categories,(function(a){return e("b-dropdown-item-button",{key:a.value,attrs:{value:a.value},on:{click:function(e){return t.setCategory(a.icon,a.value,a.name)}}},[e("div",{staticClass:"d-flex mt-1"},[e("span",{staticClass:"material-icons"},[t._v(t._s(a.icon))]),e("span",[t._v(" "+t._s(a.name))])])])})),1)],1)],1),e("b-row",{staticClass:"mt-4",attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Cuenta:")])]),e("b-col",{attrs:{sm:"3"}},[e("b-form-select",{attrs:{options:t.options,value:t.spendingData.account_id},on:{input:e=>t.$emit("setValue","account_id",e)}})],1),e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Monto:")])]),e("b-col",{attrs:{sm:"3"}},[e("b-form-input",{attrs:{type:"number",value:t.spendingData.cash},on:{input:e=>t.$emit("setValue","cash",e)}})],1)],1),t._t("default")],2)},Re=[],Je={name:"FormSpending",props:["spendingData","titleMovement"],async mounted(){await this.$store.dispatch("searchCategories")},data(){return{categorySelected:{id:11,name:"Otros",icon:"more_horiz"}}},methods:{redirectToHome(){this.$router.push("/")},setCategory(t,e,a){this.categorySelected={id:e,name:a,icon:t},this.$emit("setValue","category_id",e)}},watch:{"spendingData.category_id":function(t){t&&(this.categorySelected=this.categories.find(e=>e.value==t))}},computed:{...Object(c["b"])(["getCashboxes","getSpendingsCategories"]),options(){let t=[{value:null,text:"Seleccionar cuenta"}];return this.getCashboxes.forEach(e=>{t.push({value:e.id,text:e.name})}),t},categories(){let t=[];return this.getSpendingsCategories.forEach(e=>{t.push({value:e.id,icon:e.icon,name:e.name})}),t}}},We=Je,Ze=(a("949c"),Object(g["a"])(We,He,Re,!1,null,"a3de681a",null)),Ge=Ze.exports,Qe={name:"CreateSpending",mounted(){this.spendingData.date=(new Date).toISOString().split("T")[0]},data(){return{titleMovement:"Crear gasto",spendingData:{title:"",account_id:null,cash:"",date:"",category_id:null}}},methods:{setValue(t,e){this.spendingData[t]=e},async addSpending(){if(this.spendingData.title&&this.spendingData.account_id&&this.spendingData.cash)try{await this.$store.dispatch("createSpending",this.spendingData),this.$router.push("/")}catch(t){this.$toast.error("No fue posible crear el gasto",{position:"top-right",duration:4e3})}else this.$toast.warning("Completa todos los campos para crear un gasto",{position:"top-right",duration:4e3})}},components:{FormSpending:Ge}},Xe=Qe,Ye=Object(g["a"])(Xe,qe,Le,!1,null,null,null),Ke=Ye.exports,ta=function(){var t=this,e=t._self._c;return e("FormSpending",{attrs:{spendingData:t.spendingData,titleMovement:t.titleMovement},on:{setValue:t.setValue}},[e("b-row",{staticClass:"mt-5"},[e("b-col",{staticClass:"pb-2"},[e("b-button",{attrs:{variant:"outline-primary",size:"md"},on:{click:t.editSpendingButton}},[t._v(" Editar gasto ")])],1)],1)],1)},ea=[],aa={name:"EditSpending",async mounted(){try{const t=await this.$store.dispatch("getSpending",this.$route.params.id);for(let e in this.spendingData)this.spendingData[e]=t[e]}catch(t){this.$router.push("/"),this.$toast.error("No fue posible abrir el gasto",{position:"top-right",duration:4e3})}},data(){return{titleMovement:"Editar gasto",spendingData:{title:"",account_id:null,cash:"",date:"",category_id:null}}},methods:{setValue(t,e){this.spendingData[t]=e},async editSpendingButton(){if(this.spendingData.title&&this.spendingData.account_id&&this.spendingData.cash)try{await this.$store.dispatch("editSpending",{spendingData:this.spendingData,id:this.$route.params.id}),this.$router.push("/")}catch(t){this.$toast.error("No fue posible editar el gasto",{position:"top-right",duration:4e3})}else this.$toast.warning("Completa todos los campos para editar el gasto",{position:"top-right",duration:4e3})}},components:{FormSpending:Ge}},sa=aa,oa=Object(g["a"])(sa,ta,ea,!1,null,null,null),ra=oa.exports,na=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},ia=[],ca={},la=Object(g["a"])(ca,na,ia,!1,null,null,null),da=la.exports,ua=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex justify-content-around pt-4"},[e("FormUser",{attrs:{userData:t.userData,isCreateUser:!1},on:{setValue:t.setValue}},[e("div",{staticClass:"d-flex justify-content-end mt-3"},[e("b-button",{attrs:{variant:"outline-primary"},on:{click:t.login}},[t._v(" Ingresar ")])],1)])],1)},ha=[],ma=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-form-container d-flex flex-column"},[e("div",{staticClass:"text-center fs-1",staticStyle:{"font-size":"28px",color:"rgb(138 123 165)"}},[e("p",[t._v(t._s(t.userData.titleForm))])]),t.isCreateUser?e("div",{staticClass:"inputs-container mb-3"},[e("label",[t._v("Nombre")]),e("b-form-input",{attrs:{placeholder:"ej.:Vi"},on:{input:e=>t.$emit("setValue","name",e)}})],1):t._e(),e("div",{staticClass:"inputs-container mb-3"},[e("label",[t._v("Email")]),e("b-form-input",{attrs:{type:"email",placeholder:"name@example.com"},on:{input:e=>t.$emit("setValue","email",e)}})],1),e("div",{staticClass:"inputs-container"},[e("label",[t._v("Contraseña")]),e("b-form-input",{attrs:{type:"password",placeholder:"Password"},on:{input:e=>t.$emit("setValue","password",e)}})],1),e("router-link",{staticClass:"link-user",attrs:{to:{name:t.url}}},[t._v(t._s(t.userData.msj))]),t._t("default")],2)},pa=[],ba={name:"UserForm",props:["userData","isCreateUser"],computed:{url(){return this.isCreateUser?"Login":"CreateUser"}}},fa=ba,ga=(a("0fb4"),Object(g["a"])(fa,ma,pa,!1,null,"99b5274c",null)),va=ga.exports,_a={name:"LoginUser",data(){return{userData:{titleForm:"Ingresar a tu cuenta ",email:"",password:"",msj:"¿No tenes usuario? Registrate"}}},methods:{setValue(t,e){this.userData[t]=e},async login(){try{const{user:t,error:e}=await G.auth.signIn({email:this.userData.email,password:this.userData.password});if(e)throw e;return this.$router.push({name:"Home"}),t}catch(t){console.log(t)}}},components:{FormUser:va}},Ca=_a,ya=Object(g["a"])(Ca,ua,ha,!1,null,null,null),wa=ya.exports,xa=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex justify-content-around pt-4"},[e("FormUser",{attrs:{userData:t.userData,isCreateUser:!0},on:{setValue:t.setValue}},[e("div",{staticClass:"d-flex justify-content-end mt-3"},[e("b-button",{attrs:{variant:"outline-primary"},on:{click:t.createUser}},[t._v(" Crear ")])],1)])],1)},Da=[],Sa={name:"CreateUser",data(){return{userData:{titleForm:"Crear Usuario ",name:"",email:"",password:"",msj:"¿Tenes usuario? Ingresa"}}},methods:{setValue(t,e){this.userData[t]=e},async createUser(){console.log("creando");try{const{error:t}=await G.auth.signUp({name:this.userData.name,email:this.userData.email,password:this.userData.password});if(this.$toast.success("Revisa tu mail y confirmalo",{position:"top-right",duration:4e3}),t)throw t}catch(t){console.log(t)}}},components:{FormUser:va}},$a=Sa,ka=Object(g["a"])($a,xa,Da,!1,null,null,null),Ia=ka.exports,ja=function(){var t=this,e=t._self._c;return e("div",[e("Cashboxes",{attrs:{showAddCashbox:!0}}),e("div",{staticClass:"mt-3"},[e("span",{staticClass:"movements-buttons",class:{underline:"ShowIncomes"==t.componentToShow},on:{click:function(e){return t.changeView("ShowIncomes")}}},[t._v(" Ingresos ")]),t._v(" | "),e("span",{staticClass:"movements-buttons",class:{underline:"ShowSpendings"==t.componentToShow},on:{click:function(e){return t.changeView("ShowSpendings")}}},[t._v(" Gastos ")])]),e(t.componentToShow,{tag:"component"})],1)},Ta=[],Oa=function(){var t=this,e=t._self._c;return e("b-container",[0===Object.keys(t.incomesOrderByDate).length?e("div",{staticClass:"pt-2"},[e("p",[t._v("Aún no hay ingresos registrados")])]):t._l(t.incomesOrderByDate,(function(a,s){return e("div",{key:s},[e("b-row",[e("b-col",{staticClass:"d-flex mt-2"},[e("span",[t._v(t._s(t.getDaysNames(s)))])])],1),t._l(a,(function(a){return e("div",{key:a.id,staticClass:"container-income mt-3",on:{click:function(e){return t.editIncome(a.id)}}},[e("b-row",[e("b-col",{attrs:{cols:"2"}},[e("span",{staticClass:"category-icon material-icons",staticStyle:{"margin-top":"15px"},style:{background:a.categories.icon_color}},[t._v(" "+t._s(a.categories.icon)+" ")])]),e("b-col",{attrs:{cols:"10"}},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[t._v(" "+t._s(a.title)+" ")]),e("b-col",{staticClass:"shorten-name d-flex justify-content-start",attrs:{cols:"4"}},[t._v(" "+t._s(a.accounts.name)+" ")]),e("b-col",{staticStyle:{color:"green"},attrs:{cols:"8"}},[t._v(" "+t._s(t.amountFormatter(a.cash))+" ")]),e("b-icon",{staticClass:"button-delete-income h4",attrs:{icon:"x-circle",id:"buttonDelete"},on:{click:function(e){return e.stopPropagation(),t.deleteIncome(a.id)}}})],1)],1)],1)],1)}))],2)}))],2)},Ma=[];function Fa(t){let e=t.split("-"),a=new Date(e[0],e[1]-1,e[2]),s=a.toLocaleDateString("es-AR",{weekday:"long"});return s.charAt(0).toUpperCase()+s.slice(1)+", "+t.slice(-2)}var Va={name:"ShowIncome",async mounted(){try{await this.$store.dispatch("getIncomes")}catch(t){this.$toast.error("No fue posible encontrar los ingresos",{position:"top-right",duration:4e3})}},methods:{getDaysNames:Fa,amountFormatter:C,editIncome(t){this.$router.push({name:"EditIncome",params:{id:t}})},async deleteIncome(t){try{await this.$store.dispatch("deleteIncome",t),await this.$store.dispatch("searchCashboxes")}catch(e){this.$toast.error("No fue posible eliminar el ingreso",{position:"top-right",duration:4e3})}}},computed:{...Object(c["b"])(["incomesOrderByDate"])}},Na=Va,Ea=(a("08b1"),Object(g["a"])(Na,Oa,Ma,!1,null,"2c4cc88a",null)),Ba=Ea.exports,Ua=function(){var t=this,e=t._self._c;return e("b-container",[0===Object.keys(t.spendingsOrderByDate).length?e("div",{staticClass:"pt-2"},[e("p",[t._v("Aún no hay gastos registrados")])]):t._l(t.spendingsOrderByDate,(function(a,s){return e("div",{key:s},[e("b-row",[e("b-col",{staticClass:"d-flex mt-2"},[e("span",[t._v(t._s(t.getDaysNames(s)))])])],1),t._l(a,(function(a){return e("div",{key:a.id,staticClass:"container-spending mt-3",on:{click:function(e){return t.editSpending(a.id)}}},[e("b-row",[e("b-col",{attrs:{cols:"2"}},[e("span",{staticClass:"category-icon material-icons",staticStyle:{"margin-top":"15px"},style:{background:a.categories.icon_color}},[t._v(" "+t._s(a.categories.icon)+" ")])]),e("b-col",{attrs:{cols:"10"}},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[t._v(" "+t._s(a.title)+" ")]),e("b-col",{staticClass:"shorten-name d-flex justify-content-start",attrs:{cols:"4"}},[t._v(" "+t._s(a.accounts.name)+" ")]),e("b-col",{staticStyle:{color:"red"},attrs:{cols:"8"}},[t._v(" - "+t._s(t.amountFormatter(a.cash))+" ")]),e("b-icon",{staticClass:"button-delete-spending h4",attrs:{icon:"x-circle",id:"buttonDelete"},on:{click:function(e){return e.stopPropagation(),t.deleteSpending(a.id)}}})],1)],1)],1)],1)}))],2)}))],2)},Pa=[],za={name:"ShowSpendings",async mounted(){try{await this.$store.dispatch("getSpendings")}catch(t){this.$toast.error("No fue posible encontrar los gastos",{position:"top-right",duration:4e3})}},methods:{getDaysNames:Fa,amountFormatter:C,editSpending(t){this.$router.push({name:"EditSpending",params:{id:t}})},async deleteSpending(t){try{await this.$store.dispatch("deleteSpending",t),await this.$store.dispatch("searchCashboxes")}catch(e){this.$toast.error("No fue posible eliminar el gasto",{position:"top-right",duration:4e3})}}},computed:{...Object(c["b"])(["spendingsOrderByDate"])}},Aa=za,qa=(a("a76d"),Object(g["a"])(Aa,Ua,Pa,!1,null,"2f64b26c",null)),La=qa.exports,Ha={name:"Movements",data(){return{componentToShow:"ShowIncomes"}},methods:{changeView(t){this.componentToShow=t}},components:{Cashboxes:le,ShowIncomes:Ba,ShowSpendings:La}},Ra=Ha,Ja=(a("2d85"),Object(g["a"])(Ra,ja,Ta,!1,null,"555816a5",null)),Wa=Ja.exports,Za=function(){var t=this,e=t._self._c;return 0===t.getCashboxesDisabled.length?e("div",{staticStyle:{color:"var(--primary)","font-size":"23px","margin-top":"40px"}},[e("p",[t._v("No hay cajas deshabilitadas")])]):e("div",[e("h3",{staticClass:"pt-3"},[t._v("Sus cajas deshabilitadas")]),e("b-row",{staticClass:"pt-2"},t._l(t.getCashboxesDisabled,(function(a,s){return e("b-col",{key:s,attrs:{cols:"4"}},[e("b-card",{staticClass:"cashboxes-cards",class:{cashboxSelect:a.id===t.selectCashboxId},attrs:{"no-body":""},on:{click:function(e){return t.setSelectCashbox(a.id)}}},[e("b-card-body",{staticClass:"p-3"},[e("b-img",t._b({attrs:{src:a.icon_url,rounded:"circle",alt:"Circle image"}},"b-img",t.mainProps,!1)),e("b-card-text",[t._v(" "+t._s(a.name)+" ")]),e("b-card-text",{class:{positiveColor:a.balance>=0,negativeColor:a.balance<=0}},[t._v(" "+t._s(t.amountFormatter(a.balance))+" ")])],1)],1)],1)})),1),e("b-row",[e("b-col",{staticClass:"mt-4"},[e("b-button",{attrs:{disabled:!t.selectCashboxId,variant:"outline-primary",size:"md"},on:{click:t.enableCashbox}},[t._v(" Habilitar caja ")])],1)],1),t._l(t.movements,(function(a,s){return e("b-row",{key:s,staticClass:"mt-4"},[e("div",{staticClass:"container-movements"},[e("b-row",[e("b-col",{attrs:{cols:"2"}},[e("b-icon",{staticClass:"h3",staticStyle:{"margin-top":"15px"},attrs:{icon:"exclamation-circle-fill",variant:"primary"}})],1),e("b-col",{attrs:{cols:"10"}},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[t._v(" "+t._s(a.title)+" ")]),e("b-col",{staticClass:"d-flex justify-content-start",attrs:{cols:"4"}},[t._v(" "+t._s(a.accounts.name)+" ")]),e("b-col",{class:{positiveColor:"income"===a.type,negativeColor:"outflow"===a.type},attrs:{cols:"8"}},[t._v(" "+t._s(t._f("signFilter")(t.amountFormatter(a.cash),a.type))+" ")])],1)],1)],1)],1)])}))],2)},Ga=[],Qa={name:"DisabledCashboxes",data(){return{selectCashboxId:null,movements:[],mainProps:{width:75,height:75,class:"m1"}}},methods:{amountFormatter:C,async setSelectCashbox(t){try{this.selectCashboxId=t;const{error:e,data:a}=await G.from("movements").select("*, accounts!inner(id, name)").eq("accounts.id",t).order("date",{ascending:!1});if(this.movements=a,e)throw e}catch(e){this.$toast.error("No fue posible seleccionar la caja",{position:"top-right",duration:4e3})}},async enableCashbox(){try{await this.$store.dispatch("enableCashbox",this.selectCashboxId),this.movements=[],this.selectCashboxId=null,this.$toast.success("La caja fue habilitada",{position:"top-right",duration:4e3})}catch(t){this.$toast.error("No fue posible habilitar la caja",{position:"top-right",duration:4e3})}}},filters:{signFilter(t,e){return"outflow"===e?"-"+t:t}},computed:{...Object(c["b"])(["getCashboxesDisabled"])}},Xa=Qa,Ya=(a("7467"),Object(g["a"])(Xa,Za,Ga,!1,null,"80c71164",null)),Ka=Ya.exports;s["default"].use(W["a"]);const ts=async(t,e,a)=>{let s=await et.dispatch("getCurrentUser");s?a():a({name:"Login"})},es=[{path:"/login/",component:da,children:[{path:"loginUser",name:"Login",component:wa},{path:"createUser",name:"CreateUser",component:Ia}]},{path:"/",name:"Home",component:Wa,beforeEnter:ts},{path:"/incomes/",component:ve,beforeEnter:ts,children:[{path:"createIncome",name:"CreateIncome",component:Te},{path:":id/editIncome",name:"EditIncome",component:Ee}]},{path:"/spendings/",component:Ae,beforeEnter:ts,children:[{path:"createSpending",name:"CreateSpending",component:Ke},{path:":id/editSpending",name:"EditSpending",component:ra}]},{path:"/transfers/",component:vt,beforeEnter:ts,children:[{path:"createTransfer",name:"CreateTransfer",component:Tt},{path:":id/editTransfer",name:"EditTransfer",component:Et},{path:"showTransfers",name:"ShowTransfers",component:me}]},{path:"/disabledCashboxes",name:"DisabledCashboxes",component:Ka,beforeEnter:ts},{path:"/categories",name:"Categories",component:mt,beforeEnter:ts}],as=new W["a"]({mode:"history",base:"/",routes:es});var ss=as,os=a("5f5b"),rs=a("b1e0"),ns=a("b079"),is=a.n(ns);a("4238");s["default"].config.productionTip=!1,s["default"].use(os["a"]),s["default"].use(rs["a"]),s["default"].use(is.a),s["default"].use(p["a"]),new s["default"]({router:ss,store:et,render:t=>t(J)}).$mount("#app")},5931:function(t,e,a){},"5ebf":function(t,e,a){"use strict";a("15fc")},6901:function(t,e,a){},"6e45":function(t,e,a){},7279:function(t,e,a){"use strict";a("6901")},"73c5":function(t,e,a){"use strict";a("394c")},7467:function(t,e,a){"use strict";a("b2a5")},7572:function(t,e,a){},7857:function(t,e,a){"use strict";a("50ef")},"7d8f":function(t,e,a){"use strict";a("4957")},"82cd":function(t,e,a){},"8ca9":function(t,e,a){},"8e1f":function(t,e,a){"use strict";a("452d")},"949c":function(t,e,a){"use strict";a("6e45")},a148:function(t,e,a){"use strict";a("8ca9")},a76d:function(t,e,a){"use strict";a("82cd")},a8cd:function(t,e,a){},b1e8:function(t,e,a){"use strict";a("124e")},b2a5:function(t,e,a){},de73:function(t,e,a){"use strict";a("e230")},df5e:function(t,e,a){"use strict";a("057e")},e008:function(t,e,a){"use strict";a("5931")},e230:function(t,e,a){},fb91:function(t,e,a){}});
//# sourceMappingURL=app.b624e3f8.js.map